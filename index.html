<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>IT Capitals | ITC Presale</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Ethers.js CDN for crypto purchase -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --main-dark: #0c192d;
      --main-blue: #17294a;
      --widget-bg: rgba(19,34,54,0.92);
      --widget-gradient: linear-gradient(120deg, rgba(21,36,67,0.91) 80%, rgba(45,108,246,0.09));
      --accent: #39b5ee;
      --accent2: #ffe6b7;
      --gold: #ffd875;
      --border-r: 24px;
    }
    body {
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(180deg, #050d1f 0%, #17294a 80%, #152f56 100%);
      font-family: 'Inter', 'Montserrat', Arial, sans-serif;
      color: #eaf6fd;
      position: relative;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
    }
    .main-container {
      display: flex;
      flex: 1;
      min-height: 97vh;
      justify-content: center;
      align-items: flex-start;
      gap: 48px;
      padding: 60px 0 0 0;
      position: relative;
    }
    .left-side {
      flex: 1.2;
      max-width: 440px;
      padding-left: 54px;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }
    .logo-header {
      display: flex;
      align-items: center;
      margin-bottom: 26px;
    }
    .logo-header img {
      height: 62px;
      width: 62px;
      border-radius: 15px;
      object-fit: contain;
      background: rgba(24,33,61,.14);
      margin-right: 19px;
    }
    .logo-header h1 {
      font-family: 'Montserrat', Arial, sans-serif;
      font-size: 2.08rem;
      font-weight: 700;
      color: #fff;
      letter-spacing: .16em;
      margin: 0;
      padding: 0;
    }
    .info-block {
      font-size: 1.09rem;
      color: #cddbfa;
      margin-bottom: 21px;
    }
    .info-block strong {
      color: var(--accent);
      font-weight: 700;
    }
    .token-list {
      margin-top: 10px;
      color: var(--gold);
      font-size: 1rem;
      padding-left: 25px;
      line-height: 1.7;
    }
    .gratitude {
      color: #ffe7ab;
      font-size: 1.05rem;
      margin-top: 14px;
      margin-bottom: 0;
    }
    .widget-side {
      flex: 1;
      min-width: 350px;
      padding-right: 44px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }
    #presale-widget {
      width: 380px;
      padding: 42px 30px 36px 30px;
      border-radius: var(--border-r);
      background: var(--widget-gradient);
      box-shadow: 0px 6px 32px #111e2b66, 0 1px 3px #00ffe72c;
      color: #fcfaff;
      text-align: center;
      position: relative;
      border: 1px solid rgba(90,180,255,0.06);
      backdrop-filter: blur(9px) saturate(1.08);
      background-clip: padding-box;
    }
    #presale-widget h2 {
      color: #fff;
      font-family: 'Montserrat', Arial, sans-serif;
      font-size: 1.28rem;
      margin-bottom: 19px;
      font-weight: 700;
      letter-spacing: 0.07em;
    }
    #countdown-timer {
      font-size:1.09rem;
      margin-bottom:14px;
      color: var(--accent2);
      font-weight: 700;
    }
    .msg-main {
      font-size: 1.13rem;
      margin-bottom: 11px;
      color: var(--gold);
    }
    /* TABS */
    .tab-row {
      display: flex;
      margin: 19px 0 8px 0;
    }
    .tab-btn {
      flex: 1;
      border: none;
      font-size: 1rem;
      font-family: inherit;
      padding: 10px 0;
      cursor: pointer;
      border-radius: 13px 13px 0 0;
      color: #fff;
      background: rgba(220,220,220,0.05);
      margin-right: 2px;
      border-bottom: 3px solid transparent;
      transition: background 0.15s, color 0.12s;
    }
    .tab-btn.active {
      background: var(--accent2);
      color: #151d2e;
      font-weight: 700;
      border-bottom: 3px solid var(--gold);
    }
    .input-label {
      text-align: left;
      margin-bottom: 4px;
      font-size: 1.01rem;
      color: #caf1ff;
      font-weight: 500;
    }
    .input-row {
      display: flex;
      gap: 9px;
      margin-bottom: 8px;
    }
    .input-row input[type="number"] {
      flex: 1;
      padding: 11px 10px;
      font-size: 1rem;
      border-radius: 11px;
      border: none;
      background: #192a4f;
      color: #fff7ce;
      outline: none;
    }
    .input-row input[type="number"]:focus {
      border: 1.2px solid var(--accent2);
    }
    .eq-row {
      font-size: 1.06rem;
      color: var(--accent2);
      margin-bottom: 12px;
      min-height: 21px;
      text-align: left;
      margin-top: 3px;
    }
    .wallet-row, .card-row {
      margin-bottom: 7px;
      margin-top: 0;
      width: 100%;
      text-align: left;
    }
    select, input[type="text"] {
      width: 100%;
      padding: 10px 9px;
      font-size: 1.03rem;
      border-radius: 9px;
      border: 1.1px solid #e7bc8b44;
      background: #181d25;
      color: #e2b576;
      margin-bottom: 5px;
      outline: none;
    }
    .pay-btn, .connect-btn {
      width: 100%;
      background: var(--gold);
      color: #173053;
      border: none;
      font-size: 1.05rem;
      padding: 12px 0;
      border-radius: 13px;
      font-weight: bold;
      letter-spacing: 0.06em;
      cursor:pointer;
      margin-top: 8px;
      margin-bottom: 0;
      font-family: 'Montserrat',Arial,sans-serif;
      transition: background 0.15s, color 0.13s;
    }
    .pay-btn:disabled, .connect-btn:disabled {
      background: #e5e4e4;
      color: #968067;
      cursor: not-allowed;
    }
    #walletStatus, #buyResult, #buyResultCard {
      font-size: 0.98rem;
      min-height: 19px;
      margin-top: 2px;
      text-align:left;
      color:#aafdff;
    }
    /* Responsive */
    @media (max-width: 1000px) {
      .main-container {flex-direction: column; align-items: center; padding: 32px 0 0 0; gap:18px;}
      .left-side, .widget-side {padding:0 5vw;}
      .widget-side {align-items:center;}
      #presale-widget {width: 99vw; min-width: 0;}
    }
    @media (max-width: 700px) {
      .main-container {gap:9px;}
      .left-side {max-width: 99vw; padding: 2vw;}
      .logo-header img {height: 38px;}
      .logo-header h1 {font-size: 1.09rem;}
      #presale-widget {padding:12px 2vw; width:96vw; min-width: 0;}
    }
  </style>
</head>
<body>
  <div class="main-container">
    <div class="left-side">
      <div class="logo-header">
        <img src="fulllogo_nobuffer.png" alt="IT Capitals Logo" />
        <h1>IT CAPITALS</h1>
      </div>
      <div class="info-block">
        <strong>Founded:</strong> February 2025<br>
        IT Capitals specializes in <strong>blockchain development</strong> and <strong>DAPP creation</strong>, IT infrastructure solutions, and advanced website management for clients aiming for digital excellence.
      </div>
      <div class="info-block">
        <strong>Introducing ITC Token:</strong> A utility token for a next-generation digital rewards and services ecosystem.
        <ul class="token-list">
          <li>Earn by referring clients or using IT Capitals’ solutions</li>
          <li>Redeem ITC for premium services & exclusive features</li>
          <li>Soon: Real-world benefits—partner discounts, events, more</li>
        </ul>
        Join ITC community & unlock unique value in Web3 and IT services.
      </div>
      <div class="gratitude">
        <strong>With gratitude:</strong>
        Special thanks to <strong>Mr. MM</strong> for visionary ideas and helping build the foundation of IT Capitals.
      </div>
    </div>
    <div class="widget-side">
      <div id="presale-widget">
        <h2>ITC Presale Purchase</h2>
        <div id="countdown-timer"></div>
        <div class="msg-main">
          Phase 1: <span style="color:#ffe6b7;">$0.50 USDC / ITC</span>
        </div>
        <!-- TABS -->
        <div class="tab-row">
          <button class="tab-btn active" id="tab-crypto" onclick="switchTab('crypto')">Buy with Crypto</button>
          <button class="tab-btn" id="tab-card" onclick="switchTab('card')">Buy with Card</button>
        </div>
        <!-- Buy with Crypto -->
        <div id="cryptoTab" style="display:block;">
          <div class="wallet-row">
            <label for="walletType" style="color:#ffe6b7; margin-bottom:3px;">Select Wallet:</label>
            <select id="walletType">
              <option value="metamask">MetaMask</option>
              <option value="walletconnect">WalletConnect</option>
              <option value="uniswap">Uniswap Wallet</option>
              <option value="trust">Trust Wallet</option>
              <option value="coinbase">Coinbase Wallet</option>
            </select>
            <button class="connect-btn" id="connectWalletBtn" type="button">Connect Wallet</button>
            <div id="walletStatus"></div>
          </div>
          <div class="input-label">Amount:</div>
          <div class="input-row">
            <input id="tokenAmount" type="number" min="1" placeholder="ITC Amount" />
            <span style="align-self:center;">or</span>
            <input id="usdcAmount" type="number" min="0" step="0.01" placeholder="USDC Amount" />
          </div>
          <div class="eq-row" id="equivalentText"></div>
          <button class="pay-btn" id="buyWithEthBtn" disabled>Buy ITC With Crypto</button>
          <div id="buyResult"></div>
          <div id="walletConnectUI" style="display:none;font-size:0.95rem; color:#ffd875; margin-top:9px;">Scan QR to connect via WalletConnect.<br>(Integration UI coming soon)</div>
        </div>
        <!-- Buy with Card -->
        <div id="cardTab" style="display:none;">
          <div class="input-label">Amount:</div>
          <div class="input-row">
            <input id="cardTokenAmount" type="number" min="1" placeholder="ITC Amount" />
            <span style="align-self:center;">or</span>
            <input id="cardUsdcAmount" type="number" min="0" step="0.01" placeholder="USDC Amount" />
          </div>
          <div class="eq-row" id="cardEquivalentText"></div>
          <div class="card-row">
            <label style="color:#ffe6b7;">Card Number</label>
            <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456"/>
          </div>
          <div class="input-row" style="gap:9px;">
            <div>
              <label style="color:#ffe6b7;">Expiry (MM/YY)</label>
              <input type="text" id="expiry" placeholder="MM/YY"/>
            </div>
            <div>
              <label style="color:#ffe6b7;">CVC</label>
              <input type="text" id="cvc" placeholder="***"/>
            </div>
          </div>
          <button class="pay-btn" disabled>Pay &amp; Buy ITC (Demo Only)</button>
          <div id="buyResultCard"></div>
        </div>
      </div>
    </div>
  </div>
  <div id="footer-bar">
    Powered by IT Capitals, ON, Canada.
  </div>
<script>
const PHASE1_PRICE_USDC = 0.50;

// PANELS
function switchTab(tab) {
  document.getElementById('cryptoTab').style.display = (tab === 'crypto') ? 'block' : 'none';
  document.getElementById('cardTab').style.display = (tab === 'card') ? 'block' : 'none';
  document.getElementById('tab-crypto').classList.toggle('active', tab === 'crypto');
  document.getElementById('tab-card').classList.toggle('active', tab === 'card');
}
// --- UTC Presale Countdown ---
const PRESALE_START_ISO = '2025-09-10T00:00:00Z';
const presaleStart = new Date(PRESALE_START_ISO);
function addMonthsAndDays(date, months, days) {
  let d = new Date(date);
  d.setUTCMonth(d.getUTCMonth() + months);
  d.setUTCDate(d.getUTCDate() + days);
  return d;
}
const PRESALE_END = addMonthsAndDays(presaleStart, 5, 28);
function updateCountdownTimer() {
  const now = new Date();
  let remainingMs = PRESALE_END.getTime() - now.getTime();
  if (remainingMs < 0) remainingMs = 0;
  let totalSecs = Math.floor(remainingMs / 1000);
  let days = Math.floor(totalSecs / (24 * 3600));
  let hours = Math.floor((totalSecs % (24 * 3600)) / 3600);
  let mins = Math.floor((totalSecs % 3600) / 60);
  let secs = totalSecs % 60;
  document.getElementById("countdown-timer").textContent =
    (remainingMs > 0)
    ? `Presale countdown (UTC): ${days}d ${hours}h ${mins}m ${secs}s left`
    : "Presale finished!";
}
setInterval(updateCountdownTimer, 1000); updateCountdownTimer();

// --- CRYPTO tab: ITC<->USDC two-way binding ---
const tokenInput = document.getElementById("tokenAmount");
const usdcInput = document.getElementById("usdcAmount");
const equivalentText = document.getElementById("equivalentText");
tokenInput.oninput = function() {
  if (tokenInput.value && !isNaN(tokenInput.value) && tokenInput.value > 0) {
    let usdc = (tokenInput.value * PHASE1_PRICE_USDC).toFixed(2);
    usdcInput.value = usdc;
    equivalentText.innerHTML = `${tokenInput.value} ITC ≡ <b>${usdc}</b> USDC`;
  } else {
    equivalentText.innerHTML = '';
    usdcInput.value = '';
  }
};
usdcInput.oninput = function() {
  if (usdcInput.value && !isNaN(usdcInput.value) && usdcInput.value > 0) {
    let itc = (usdcInput.value / PHASE1_PRICE_USDC).toFixed(4).replace(/\.?0+$/, '');
    tokenInput.value = itc;
    equivalentText.innerHTML = `<b>${usdcInput.value}</b> USDC ≡ ${itc} ITC`;
  } else {
    equivalentText.innerHTML = '';
    tokenInput.value = '';
  }
};

// --- CARD tab: ITC<->USDC two-way binding ---
const cardTokenInput = document.getElementById("cardTokenAmount");
const cardUsdcInput = document.getElementById("cardUsdcAmount");
const cardEquivalentText = document.getElementById("cardEquivalentText");
cardTokenInput.oninput = function() {
  if (cardTokenInput.value && !isNaN(cardTokenInput.value) && cardTokenInput.value > 0) {
    let usdc = (cardTokenInput.value * PHASE1_PRICE_USDC).toFixed(2);
    cardUsdcInput.value = usdc;
    cardEquivalentText.innerHTML = `${cardTokenInput.value} ITC ≡ <b>${usdc}</b> USDC`;
  } else {
    cardEquivalentText.innerHTML = '';
    cardUsdcInput.value = '';
  }
};
cardUsdcInput.oninput = function() {
  if (cardUsdcInput.value && !isNaN(cardUsdcInput.value) && cardUsdcInput.value > 0) {
    let itc = (cardUsdcInput.value / PHASE1_PRICE_USDC).toFixed(4).replace(/\.?0+$/, '');
    cardTokenInput.value = itc;
    cardEquivalentText.innerHTML = `<b>${cardUsdcInput.value}</b> USDC ≡ ${itc} ITC`;
  } else {
    cardEquivalentText.innerHTML = '';
    cardTokenInput.value = '';
  }
};

// --- Wallet Connect ---
const walletTypeSel = document.getElementById("walletType");
if(walletTypeSel) {
  walletTypeSel.onchange = function() {
    document.getElementById("walletConnectUI").style.display =
      (walletTypeSel.value==="walletconnect") ? "block" : "none";
  };
}
const ETH_PRICE_USDC = 4302.55;
const PRESALE_CONTRACT = "0xd1887abfadc7b5de18c54a547490c8dea792686b";
const ITC_TOKEN_DECIMALS = 18;
const presaleAbi = ["function buyWithETH(uint256 tokenAmount) external payable"];
let provider, signer, connectedAddress;
document.getElementById("connectWalletBtn").onclick = async () => {
  const walletStatus = document.getElementById("walletStatus");
  walletStatus.textContent = "";
  const walletType = document.getElementById("walletType").value;
  if (walletType === "metamask" && window.ethereum) {
    try {
      provider = new ethers.providers.Web3Provider(window.ethereum);
      await provider.send("eth_requestAccounts", []);
      signer = provider.getSigner();
      connectedAddress = await signer.getAddress();
      document.getElementById("buyWithEthBtn").disabled = false;
      walletStatus.textContent = `Connected: ${connectedAddress}`;
    } catch (err) {
      walletStatus.textContent = "Wallet connection failed: " + (err.message || err);
    }
  } else if (walletType === "walletconnect") {
    document.getElementById("walletConnectUI").style.display = "block"; // demo only—SDK needed for production
  } else if (walletType !== "metamask") {
    walletStatus.textContent = `Connect ${walletType.charAt(0).toUpperCase()+walletType.slice(1)} wallet manually. (SDK/UI coming soon)`;
    // Implement respective SDK for other wallets in prod.
  } else {
    walletStatus.textContent = "No wallet provider found. Please install MetaMask or another wallet.";
  }
};
document.getElementById("buyWithEthBtn").onclick = async () => {
  const buyResult = document.getElementById("buyResult");
  buyResult.textContent = "";
  if (!provider || !signer || !connectedAddress) {
    buyResult.textContent = "Please connect your wallet first.";
    return;
  }
  const tokenAmountVal = tokenInput.value;
  if (!tokenAmountVal || isNaN(tokenAmountVal) || tokenAmountVal <= 0) {
    buyResult.textContent = "Enter a valid ITC amount.";
    return;
  }
  try {
    const contract = new ethers.Contract(PRESALE_CONTRACT, presaleAbi, signer);
    const ethPricePerToken = PHASE1_PRICE_USDC / ETH_PRICE_USDC;
    const ethValue = ethers.utils.parseEther(
      (ethPricePerToken * tokenAmountVal).toString()
    );
    const tx = await contract.buyWithETH(
      ethers.utils.parseUnits(tokenAmountVal.toString(), ITC_TOKEN_DECIMALS),
      { value: ethValue }
    );
    buyResult.textContent = "✅ Transaction sent! Tx Hash: " + tx.hash;
  } catch (err) {
    buyResult.textContent = "❌ Error: " + (err.message || err);
  }
};
</script>
</body>
</html>
